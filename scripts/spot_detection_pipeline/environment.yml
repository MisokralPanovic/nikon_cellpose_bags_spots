# environment.yml
name: spot_detector
channels:
  - conda-forge
  - pytorch
  - defaults

dependencies:
  # Python version
  - python=3.11

  # Core scientific computing
  - numpy>=1.24.0
  - pandas>=2.0.0
  - scipy>=1.10.0

  # Image processing
  - scikit-image>=0.20.0
  - opencv>=4.7.0

  # Microscopy file formats
  - xarray>=2023.1.0
  - dask>=2023.1.0

  # Deep learning - let conda figure out the best PyTorch for your system
  - pytorch>=2.0.0
  - torchvision  # Optional but often needed
  # For GPU: conda will automatically select the right CUDA version
  # For CPU only: uncomment the line below
  # - cpuonly

  # Visualization
  - matplotlib>=3.7.0
  - seaborn>=0.12.0

  # Configuration and utilities
  - pyyaml>=6.0
  - tqdm>=4.65.0
  - openpyxl>=3.1.0

  # Development tools (optional)
  - jupyterlab>=4.0.0
  - ipykernel

  # Pip packages
  - pip
  - pip:
      # Microscopy-specific packages
      - nd2>=0.8.0
      - aicspylibczi>=3.1.0
      - aicsimageio>=4.11.0
      
      # Deep learning models
      - cellpose>=3.0.0
      - spotiflow>=0.3.0
      
      # Visualization extras
      - matplotlib-scalebar>=0.8.0
      
      # Install local package in editable mode
      - -e .